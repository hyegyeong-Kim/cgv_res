<script>
     $(document).ready(function () {
            // var option_visual = {
            //     slidesPerView: 1.2,
            //     autoplay: {
            //         delay: 3000,
            //     },
            //     spaceBetween:10,
            //     // loop:true,
            //     keyboard: {
            //         enabled: true,
            //     },
            //     navigation: {
            //         nextEl: '.visual .swiper-button-next',
            //         prevEl: '.visual .swiper-button-prev',
            //     },
            // };

            var option_sec01 = {
                slidesPerView: 3.1,
                spaceBetween: 5,
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                },
            };

            var option_sec02 = {
                slidesPerView: 3,
                autoplay: {
                    delay: 3000,
                },
                spaceBetween: 8,
                loop: false,
                keyboard: {
                    enabled: true,
                },
                pagination: {
                    el: '.sec07 .swiper-pagination',
                    clickable: true,
                },
                on: {
                    init: function () { },
                    slideChange: function () { },
                },
                navigation: {
                    nextEl: '.visual .swiper-button-next',
                    prevEl: '.visual .swiper-button-prev',
                },
            };
            var option_sec03 = {
                slidesPerView: 1,
                spaceBetween:5,
                keyboard: {
                    enabled: true,
                },
                navigation: {
                    nextEl: '.visual .swiper-button-next',
                    prevEl: '.visual .swiper-button-prev',
                },
            };
            var option_sec04 = {
                slidesPerView: 1.1,
                spaceBetween:5,
                keyboard: {
                    enabled: true,
                },
                navigation: {
                    nextEl: '.visual .swiper-button-next',
                    prevEl: '.visual .swiper-button-prev',
                },
            };


           
            var swiper = new Swiper('.main_visual .visual.swiper-container', option_sec01);
            var swiper = new Swiper('.now_movie .visual.swiper-container', option_sec03);
            var swiper = new Swiper('.ott .visual.swiper-container', option_sec04);

        });

</script>

<style>
    .main_visual .visual .swiper-wrapper .swiper-slide {padding:0px 3px 0 !important;}
    .now_movie .visual .swiper-wrapper .swiper-slide {padding:0px 0px 0 !important; background:rgba(0, 0, 0, 0.7); border-radius:16px; overflow: hidden;} 
    .ott .visual .swiper-wrapper .swiper-slide {padding:0px 0px 0px !important; border-radius:16px; overflow: hidden;}
    .ott .visual .swiper-wrapper .swiper-slide::after {display:none !important;}
    .device_wrap > div > ul {background-image: linear-gradient(#fff, #fdfdfd, #f4f4f4);}
</style>

<div class="wrap_inner">
    <strong class="badge">메인</strong>

    <div class="device_wrap">
        <div>
            <p class="header">
                <img src="../images/B/time/header_01.png"/>
                <img src="../images/B/time/header_02.png" alt="">
            </p>
            <ul>
                <li>
                    <img src="../images/B/time/main.png" alt="">
                </li>
            </ul>
        </div>
        <p class="bottom" style="z-index:2;"><img src="./images/screen/TabBar.png"/></p>
    </div>
    <div class="txt_wrap_s">
        <p>
            화면 스크롤시 <br>
            <strong>일정 등 주요정보를 상단에 고정</strong>해서 <br>
            사용자가 프로세스에 더 집중할 수 있도록 합니다. 
        </p>
    </div>
</div>

<script>
    $(function(){
        var li_offset = [];

        setTimeout(()=>{
            $('.txt_wrap_s, .device_wrap').addClass('active');
            $('.device_wrap > div > ul > li.show').each(function(index){
                li_offset.push($(this).find('img').offset().top);
            });
        },500);

        $('.device_wrap > div').scroll(function(){
            for(i=0; i<li_offset.length; i++){
                if(($(this).scrollTop() + ($(this).height()*0.9)) > li_offset[i]){
                    $('.device_wrap.active ul').addClass('show')
                    $('.device_wrap > div > ul  > li.show > img').removeClass('on');
                    $('.device_wrap > div > ul  > li.show > img').eq(i).addClass('on');
                }
            }
            var scrollValue = $('.device_wrap > div').scrollTop();
            console.log(scrollValue) 
            if(scrollValue < 400){
                $('.device_wrap.active ul').removeClass('show')
            }
        });
    });
</script>

<style>
    .wrap_inner {align-items:center;}
    .badge {position:absolute; top:0; left:0;}
    .txt_wrap_s {opacity:0; transition:all 0.5s;}
    .txt_wrap_s.active {opacity:1;}
    .txt_wrap_s p {opacity:0; transform:translateY(300px); transition:all 0.5s 0.25s;}
    .txt_wrap_s.active p {opacity:1; transform:translateY(0);}

    .device_wrap {margin-left:280px;}
    .device_wrap > div > ul {background-image: linear-gradient(#fff, #fdfdfd, #f4f4f4);}
    .device_wrap > div > ul li {padding-top:16px !important;}
    ul li.show img {position:relative; z-index:1; transition:all 0.2s; opacity:0.5;}
    ul li.show img.on {opacity:1;}

    .device_wrap.active ul li:after {background-color:rgba(0,0,0,0.7); opacity:0; content:''; position:absolute; top:0; right:0; bottom:0; left:0; z-index:0; transition:all 0.5s;}
    .device_wrap.active ul.show li:after {opacity:1;}

    .device_wrap img {width:100%;}


    .device_wrap li.movie img {transition:all 0.35s;}
</style>