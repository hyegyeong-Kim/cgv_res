<style>
   .device_wrap > div > ul li {padding-top:16px !important;}

</style>



<div class="wrap_inner">
   <strong class="badge">메인</strong>


   <div class="device_wrap">
       <div>
           <p class="header"><img src="./images/screen/main_header.png"/></p>
           <ul>
               <li class="movie">
                   <a href="javascript:void(0);">list change</a>
                   <div class="change_list">
                       <img src="./images/screen/tab_02.png" alt="">
                       <div class="visual_wrap">
                           <div class="inner">
                               <!-- poster -->
                               <div class="poster">
                                   <div class="top_visual" >
                                       <div class="visual swiper-container">
                                           <ul class="swiper-wrapper">
                                               <li class="swiper-slide"><img src="./images/A/main/1.png" /></li>
                                               <li class="swiper-slide"><img src="./images/A/main/2.png" /></li>
                                               <li class="swiper-slide"><img src="./images/A/main/3.png" /></li>
                                               <li class="swiper-slide"><img src="./images/A/main/4.png" /></li>
                                           </ul>
                                       </div>
                                   </div>
                                   <div style="margin-top:30px;" class="text_swiper">
                                       <div class="visual swiper-container" style="width:220px">
                                           <ul class="swiper-wrapper">
                                               <li class="swiper-slide"><img src="./images/A/main/txt_01.png" /></li>
                                               <li class="swiper-slide"><img src="./images/A/main/txt_02.png" /></li>
                                               <li class="swiper-slide"><img src="./images/A/main/txt_03.png" /></li>
                                               <!-- 04번 필요 -->
                                               <li class="swiper-slide"><img src="./images/A/main/txt_02.png" /></li>
                                               <!-- //04번 필요 -->
                                           </ul>
                                       </div>
                                   </div>


                                   <div class="swiper-pagination"></div>
                               </div>
                               <!-- //poster -->
                               <!-- list -->
                               <div class="main_visual">
                                   <div class="visual swiper-container">
                                       <ul class="swiper-wrapper">
                                           <li class="swiper-slide"><img src="./images/A/main/List1.png" alt=""></li>
                                           <li class="swiper-slide"><img src="./images/A/main/List2.png" alt=""></li>
                                           <li class="swiper-slide"><img src="./images/A/main/List3.png" alt=""></li>
                                       </ul>
                                   </div>
                               </div>
                               <!-- //list -->
                           </div>
                       </div>
                   </div>
               </li>
               <li style="padding:16px 15px 0 !important;"><img src="./images/screen/02.png"/></li>
               <li style="padding:16px 15px !important;"><img src="./images/screen/03.png"/></li>
               <li class="video video_1" style="padding:16px 15px 0;">
                   <img src="./images/screen/04.png"/>
                   <video autoplay muted playsinline loop>
                    <source src="./main_11.mp4" type="video/mp4">
                </video>
               </li>
               <li class="video video_2" style="padding:16px 15px 0;">
                   <img src="./images/screen/05.png"/>
                   <video autoplay muted playsinline loop>
                    <source src="./main_2.mp4" type="video/mp4">
                </video>
               </li>
               <li style="padding: 0 15px;"><img src="./images/screen/06.png"/></li>
               <li style="padding:16px 15px 0;"><img src="./images/screen/07.png"/></li>
               <li style="padding:16px 15px 0;" class="video video_3">
                   <img src="./images/screen/08.png"/>
                   <video autoplay muted playsinline loop>
                    <source src="./main_3.mp4" type="video/mp4">
                </video>
               </li>
               <li style="padding:16px 15px 0;"><img src="./images/screen/09.png"/></li>
               <li style="padding:0 15px 0;"><img src="./images/screen/10.png"/></li>
               <li style="padding: 0 15px;"><img src="./images/screen/11.png"/></li>
               <li style="padding: 0 15px;"><img src="./images/screen/12.png"/></li>
               <li style="padding: 0 15px;"><img src="./images/screen/13.png"/></li>
               <li style="padding: 0 15px;"><img src="./images/screen/14.png"/></li>
           </ul>
       </div>
       <p class="bottom"><img src="./images/screen/TabBar.png"/></p>
   </div>
   <div class="txt_wrap_s">
       <p><strong>사용자가 차트 뷰를 선택</strong>할 수 있습니다.<br/> <strong>포스터를 크게 볼 수 있는 리스트와</strong><br/> <strong>상세한 정보형 리스트</strong>의 두가지 타입이 있습니다.</p>
   </div>

</div>



<script>
   $(function(){
       setTimeout(()=>{
           $('.txt_wrap_s, .device_wrap').addClass('active');
       },500);




       $('.device_wrap li a').click(function(){
           if($(this).parent().hasClass('on')){
               $(this).parent().removeClass('on');
               setTimeout(function(){
                   $('.change_list > img').css('opacity', 0)
                   $('.change_list > img').attr('src', './images/screen/tab_02.png');


                   /* 수정 */
                   $('.visual_wrawp .inner').css({
                       transform:'translateX(0)'
                   });
                   console.log(1)
                   // $('.main_visual').css({'opacity':'0',"display":'none'})
                   /*$('.movie') 안에 스와이퍼 destroy */
               },200);
               setTimeout(function(){
                   // $('.top_visual').css({"display":'block'})
                   // $('.text_swiper').css({"display":'block'})
                   /*$('.movie') 안에 스와이퍼 destroy */
                   console.log(2)
               },300);
               setTimeout(function(){
                   $('.change_list > img').css('opacity', 1)
                   // $('.top_visual').css({'opacity':'1'})
                   // $('.text_swiper').css({'opacity':'1'})
                   /*$('.movie') 안에 스와이퍼 destroy */
                   console.log(3)


                   /* 수정 */
                   $('.visual_wrap .inner').css({
                       transform:'translateX(0)'
                   });
               },400);
           } else {
               $(this).parent().addClass('on');
               setTimeout(function(){
                   $('.change_list > img').css('opacity', 0)
                   $('.change_list > img').attr('src', './images/screen/tab_01.png');
                   // $('.top_visual').css({'opacity':'0'})
                   // $('.text_swiper').css({'opacity':'0'})
                   console.log(4)
               },200)
               setTimeout(function(){
                   $('.change_list > img').css('opacity', 1)
                   // $('.top_visual').css({"display":'none'})
                   // $('.text_swiper').css({"display":'none'})
                   /*$('.movie') 안에 스와이퍼 destroy */
                   console.log(5)
                   /* 수정 */
                   $('.visual_wrap .inner').css({
                       transform:'translateX(-100%)'
                   });
               },350);
               setTimeout(function(){
                   console.log(6)
                   // $('.main_visual').css({'opacity':'1'})
               },400)
               setTimeout(function(){;
                   // $('.main_visual').css({"display":'block'})
                   console.log(7)
               },550)
           }
       });


       var option_sec01 = {
               slidesPerView: 1.1,
               spaceBetween: 5,
           };


           var option_sec02 = {
               spaceBetween: 30,
               slidesPerView: 3,
               centeredSlides: true,
               roundLengths: true,
               autoplay: {
                   delay: 5000,
                   disableOnInteraction: false
               },
               
               loop: true,
               loopAdditionalSlides: 10,
               pagination: {
                   el: '.sec07 .swiper-pagination',
                   clickable: true,
               },
               // on: {
               //     init: function () { },
               //     slideChange: function () { },
               // },
               // navigation: {
               //     nextEl: '.visual .swiper-button-next',
               //     prevEl: '.visual .swiper-button-prev',
               // },
           };


           var option_sec03 = {
                slidesPerView: 'auto',
                spaceBetween: 10,
                loop: true,
                autoplay: {
                    delay: 2000,
                },
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                },
            };


       
       /* swiper 구분 */
       var swiper_main = new Swiper('.main_visual .visual.swiper-container', option_sec01);
        var swiper_top = new Swiper('.top_visual .visual.swiper-container', option_sec02);
        var swiper_text = new Swiper('.text_swiper .visual.swiper-container', option_sec03);
       /* //swiper 구분 */


       console.log($('.text_swiper .swiper-slide').length);


       swiper_top.controller.control = swiper_text;
       swiper_text.controller.control = swiper_top;
   });

</script>



<style>
   .device_wrap .header, .bottom {z-index:4 !important;}
   .wrap_inner {align-items:start;}
   .badge {position:absolute; top:0; left:0;}
   .txt_wrap_s {padding-bottom:300px; opacity:0; transition:all 0.5s;}
    .txt_wrap_s.active {opacity:1;}
    .txt_wrap_s p {opacity:0; transform:translateY(100px); transition: 1s 0.8s ease-out; line-height:150%;}
    .txt_wrap_s.active p {opacity:1; transform:translateY(0);}
   .device_wrap > div > ul {background: linear-gradient(rgba(255,255,255,1) 0%, rgba(243,243,243,1) 1%, rgba(244,244,244,1) 100%); overflow-x:hidden;}


   .device_wrap {margin-left:280px;}
   /* .device_wrap > div {overflow:hidden;} */
   .device_wrap img {width:100%;}


   .device_wrap .change_list > img {margin-bottom:30px;}
   .device_wrap a {width:40px; height:40px; font-size:0; position:absolute; top:-10px; right:10px; z-index:3; opacity:0; transition:all 0.4s 1.5s;}
   .device_wrap.active a {opacity:3 !important;}


   .device_wrap li.movie img {transition:all 0.35s;}
   .device_wrap li img {transition:all 0.35s;}


   /* swiper */
   .main_visual {padding:0px 15px; background-color:linear-gradient(rgba(243, 243, 243, 1) 0%, rgba(244, 244, 244, 1) 100%);; position:relative; z-index:1; transition:all 0.35s;}
   /* .main_visual .swiper-container {margin-right: -14px} */
   .main_visual .swiper-container {margin-right:-15px; margin-left:-15px; padding:0 15px;}
   .main_visual .visual .swiper-wrapper .swiper-slide {padding:0px 3px 0 !important;}
   .poster {background:linear-gradient(rgba(243, 243, 243, 1) 0%, rgba(244, 244, 244, 1) 100%);;}
   .poster .swiper-pagination {width:200px; margin-left:6px; bottom:135px; left:50%; display:flex; gap:2px; transform:translateX(-50%);}
   .poster .swiper-pagination .swiper-pagination-bullet {height:3px; background-color:rgba(255,255,255,0.4) !important; border-radius:100px; opacity:1; position:relative; flex:1;}
   .poster .swiper-pagination .swiper-pagination-bullet:before {width:0; background-color:#fff; content:''; position:absolute; top:0; bottom:0; left:0;}
   .poster .swiper-pagination .swiper-pagination-bullet-active:before {width:100%; right:0 !important; animation:fill 1s ease-in-out;}


   @keyframes fill {
       0% {
           width:0;
       }
       100% {
           width:100%;
       }
   }


   .movie {min-height:510px;}
   .movie .change_list > img{transition:all 0.2s;}
   /* .movie .main_visual{display:none; transition:all 0.2s;} */
   .movie.on .main_visual{transition:all 0.2s;}


   .movie.on .top_visual {transition:all 0.5s;}
   .movie .top_visual {transition:all 0.5s;}
   .movie.on .text_swiper {transition:all 0.5s;}
   .movie .text_swiper {transition:all 0.5s;}


   .visual_wrap > div.inner {display:flex; transform:translateX(0); transition:all 0.25s;}
   .visual_wrap .inner > div {width:387px; background-color:#fff;}


   .top_visual > .swiper-container {margin-left: -120px; margin-right: -120px; overflow:visible;}
   .top_visual  .swiper-slide {height: 100%;  display:flex; align-items: center; justify-content:center; transition:all 200ms linear; transform: scale(1);}
   .top_visual > img {width:50%; margin:0 auto; padding-top:30px;}
   /* .top_visual .swiper-slide img {height:308px;} */
   .top_visual .swiper-slide.swiper-slide-active{transform: scale(1.2);}
   .top_visual .swiper-slide.swiper-slide-active img {filter: drop-shadow(0 25px 20px rgba(0, 0, 0, 0.24))}


   .text_swiper {width:220px !important; margin:0 auto; }
   .text_swiper .swiper-container {width:220px !important; margin-left: 0px; margin-right: 0px; overflow:hidden;}
   .text_swiper .swiper-container img {min-width:220px !important;}
   /* //swiper */


   .video {position:relative; border-radius:16px; overflow:hidden;}
   .video > img {position:relative; z-index:2;}
   .video_1 video {width:357px; height:390px; border-radius:24px; object-fit:fill; position:absolute; top:0; left:15px; right:15px; z-index:1;}
   .video_2 video {width:190px; height:337px; border-radius:8px; object-fit:fill; position:absolute; bottom:154px; left:25px; z-index:3;}
   .video_3 video {width:357px; height:280px; border-radius:8px 8px 0 0; object-fit:fill; position:absolute; top:15px; left:15px; right:15px;}


</style>

