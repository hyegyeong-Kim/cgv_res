<div class="wrap_inner">
    <strong class="badge">메인</strong>

    <div class="device_wrap">
        <div>
            <p class="header"><img src="./images/screen/main_header.png"/></p>
            <ul>
                <li class="">
                    <img src="./images/screen/01.png"/>
                </li>
                <li style="padding: 0 15px;"><img src="./images/screen/02.png"/></li>
                <li class="show" style="padding: 0 15px;"><img src="./images/screen/03.png"/></li>
                <li style="padding: 0 15px;"><img src="./images/screen/04.png"/></li>
                <li class="show" style="padding: 0 15px;"><img src="./images/screen/05.png"/></li>
                <li style="padding: 0 15px;"><img src="./images/screen/06.png"/></li>
                <li class="show" style="padding: 0 15px;"><img src="./images/screen/07.png"/></li>
                <li class="show" style="padding: 0 15px;"><img src="./images/screen/08.png"/></li>
                <li style="padding: 0 15px;"><img src="./images/screen/09.png"/></li>
                <li class="show" style="padding: 0 15px;"><img src="./images/screen/10.png"/></li>
                <li class="show" style="padding: 0 15px;"><img src="./images/screen/11.png"/></li>
                <li class="show" style="padding: 0 15px;"><img src="./images/screen/12.png"/></li>
                <li class="show" style="padding: 0 15px;"><img src="./images/screen/13.png"/></li>
                <li style="padding: 0 15px; padding-bottom: 20px;"><img src="./images/screen/14.png"/></li>
            </ul>
        </div>
        <p class="bottom"><img src="./images/screen/TabBar.png"/></p>
    </div>
    <div class="txt_wrap_s">
        <p>영화, 액티비티 등<br/> <strong>다양한 피드 서비스</strong>를 통해<br/> <strong>CGV에 머무르며, 즐길 수 있는 이야기</strong>가<br/> 풍성해졌습니다.</p>
    </div>
</div>

<script>
    $(function(){
        var li_offset = [];

        setTimeout(()=>{
            $('.txt_wrap_s, .device_wrap').addClass('active');
            $('.device_wrap > div > ul > li.show').each(function(index){
                li_offset.push($(this).find('img').offset().top);
            });
        },500);

        $('.device_wrap > div').scroll(function(){
            for(i=0; i<li_offset.length; i++){
                if(($(this).scrollTop() + ($(this).height()*0.8)) > li_offset[i]){
                    $('.device_wrap.active ul').addClass('show')
                    $('.device_wrap > div > ul  > li.show > img').removeClass('on');
                    $('.device_wrap > div > ul  > li.show > img').eq(i).addClass('on');
                }
            }
            let fn_show = $('.device_wrap > div > ul > li:last-of-type.show').offset().top
            // if(fn_show <= 786){
            //     $('.device_wrap > div > ul > li:last-of-type.show > img').addClass('on');
            // }else {
            //     $('.device_wrap > div > ul > li:last-of-type.show > img').removeClass('on');
            // }

        });
    });
</script>

<style>
    .wrap_inner {align-items:center;}
    .badge {position:absolute; top:0; left:0;}
    .txt_wrap_s {padding-top:120px; opacity:0; transition:all 0.5s;}
    .txt_wrap_s.active {opacity:1;}
    .txt_wrap_s p {opacity:0; transform:translateY(300px); transition:all 0.5s 0.25s;}
    .txt_wrap_s.active p {opacity:1; transform:translateY(0);}

    .device_wrap {margin-left:280px;}
    .device_wrap > div > ul li {padding-top:16px !important;}

    /* .device_wrap:before,.device_wrap:after {background-color:rgba(0,0,0,0.7); opacity:0; content:''; position:absolute; right:34px; left:11px; display:block; transition:all 0.5s 1.5s;}
    .device_wrap:before {height:163px; border-radius:50px 50px 0 0; top:13px;}
    .device_wrap:after {height:84px; border-radius:0 0 50px 50px; bottom:32px;}
    .device_wrap.active:before, .device_wrap.active:after {opacity:1; z-index:1;} */

    .device_wrap > div >ul {background:linear-gradient(to top, #fcfcfc, #f4f4f4);;}
    .show img {position:relative; z-index:1; transition:all 0.2s; opacity:0.5;}
    .show img.on {opacity:1;}

    .device_wrap.active ul.show li:after {background-color:rgba(0,0,0,0.7); opacity:1; content:''; position:absolute; top:0; right:0; bottom:0; left:0; z-index:0;}
    .device_wrap.active ul li:after {opacity:1; transition:all 3s 1.5s;}
    /* .device_wrap.active ul li.on:after {opacity:0;} */
    /* .device_wrap > div:after {width:100%; background-color:rgba(0,0,0,0.7); opacity:0.2; content:''; position:absolute; top:0; bottom:89px; left:0; display:block; transform:translateX(-600px); transition:all 1.5s 0.5s ease-out;}
    .device_wrap.active > div:after {transform:translateX(0px);; opacity:1;} */

    .device_wrap img {width:100%;}

    /* .device_wrap a {width:40px; height:40px; font-size:0; background-color:rgba(0,0,0,0.2); border:2px dashed #000; border-radius:50%; position:absolute; top:-10px; right:10px; opacity:0; transition:all 0.4s 1.5s;}
    .device_wrap.active a {opacity:1;} */

    .device_wrap li.movie img {transition:all 0.35s;}
</style>