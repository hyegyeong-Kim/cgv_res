<div class="wrap_inner">
    <strong class="badge">메인</strong>

    <div class="device_wrap">
        <div>
            <p class="header"><img src="../images/movie/header.png"/></p>
            <ul>
                <li class="movie on"><img src="../images/movie/01_title.png"/>
                    <div><img src="../images/movie/01.png"/></div>
                </li>
                <li>
                    <img src="../images/movie/02_title.png"/>
                    <!-- swiper -->
                    <div><img src="../images/movie/Card1.png"/></div>
                    <!-- //swiper -->
                    <img src="../images/movie/02_bottom.png"/>
                </li>
                <li><img src="../images/movie/03.png"/></li>
                <li><img src="../images/movie/04.png"/></li>
                <li><img src="../images/movie/05.png"/></li>
                <li><img src="../images/movie/06.png"/></li>
                <li><img src="../images/movie/07.png"/></li>
                <li><img src="../images/movie/08.png"/></li>
                <li><img src="../images/movie/09.png"/></li>
                <li><img src="../images/movie/10_title.png"/>
                    <!-- swiper -->
                    <div><img src="../images/movie/10.png"/></div>
                    <!-- //swiper -->
                </li>
                <li><img src="../images/movie/11.png"/></li>
            </ul>
        </div>
        <p class="bottom"><img src="../images/screen/TabBar.png"/></p>
    </div>
    <div class="txt_wrap_s">
        <p class="active">
            <strong>N차 관람</strong>
            나의 관람 내역에 따라 재관람 확인 및 리마인드
        </p>
        <p>
            <strong>실관람객 추천</strong>
            최근 화재가 되는 영화나 몰랐던 좋은 영화를 추천
        </p>
        <p>
            <strong>OTT에서</strong>
            상영이 끝나도 영화를 볼 수 있는 채널을 추천
        </p>
    </div>
</div>

<script>
    $(function(){
        var li_offset = [];

        setTimeout(()=>{
            $('.txt_wrap_s, .device_wrap').addClass('active');
            $('.device_wrap > div ul li').each(function(index){
                li_offset.push($(this).find('img').offset().top);
            });
        },500);

        $('.device_wrap > div').scroll(function(){

            if(($(this).scrollTop() + 200) > li_offset[6] || $(this).scrollTop() == 0){
                $('.device_wrap > div ul li').removeClass('on');
                $('.device_wrap > div ul li').eq(0).addClass('on');

                $('.txt_wrap_s p.active').removeClass('active');

                $('.txt_wrap_s p').eq(0).addClass('active');
            }

            if(($(this).scrollTop() + 150) > li_offset[4]){
                $('.device_wrap > div ul li').removeClass('on');
                $('.device_wrap > div ul li').eq(5).addClass('on');

                $('.txt_wrap_s p.active').removeClass('active');

                $('.txt_wrap_s p').eq(1).addClass('active');
            }

            if(($(this).scrollTop() + 80) > li_offset[8]){
                $('.device_wrap > div ul li').removeClass('on');
                $('.device_wrap > div ul li').eq(9).addClass('on');

                $('.txt_wrap_s p.active').removeClass('active');

                $('.txt_wrap_s p').eq(2).addClass('active');
            }

        });
    });
</script>

<style>
    .wrap_inner {align-items:center;}
    .badge {position:absolute; top:0; left:0;}
    .txt_wrap_s {padding-top:120px; opacity:0; transition:all 0.5s;}
    .txt_wrap_s.active {opacity:1;}
    .txt_wrap_s p {display:flex; flex-wrap:wrap; opacity:0; transform:scale(0.8); transition:all 0.5s 0.85s; transition-property:opacity, transform;}
    .txt_wrap_s.active p {opacity:1; transform:scale(1);}

    .txt_wrap_s p, .txt_wrap_s p strong {margin-right:24px; font-weight:normal; flex:1;}
    .txt_wrap_s p.active, .txt_wrap_s p.active strong {font-weight:700;}

    .device_wrap {margin-left:280px;}
    .device_wrap ul li {padding:40px 15px 0;}
    .device_wrap ul li img + div {margin-top:16px;}
    .device_wrap ul li img + div + img {margin-top:8px;}

    .device_wrap.active ul li:after {background-color:rgba(0,0,0,0.7); opacity:1; content:''; position:absolute; top:0; right:0; bottom:0; left:0; z-index:0;  transition:all 0.25s;}
    .device_wrap.active ul li.on:after {opacity:0;}

    .device_wrap img {width:100%;}

    .device_wrap a {width:40px; height:40px; font-size:0; background-color:rgba(0,0,0,0.2); border:2px dashed #000; border-radius:50%; position:absolute; top:-10px; right:10px; opacity:0; transition:all 0.4s 1.5s;}
    .device_wrap.active a {opacity:1;}

    .device_wrap li.movie img {transition:all 0.35s;}
</style>